"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2462],{66578:(s,e,a)=>{a.r(e),a.d(e,{data:()=>n});const n={key:"v-1ae04607",path:"/linux/%E7%BB%84%E7%AE%A1%E7%90%86%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html",title:"Linux中的组管理和权限管理，以及查看文件所有信息",lang:"en-US",frontmatter:{date:"2021/12/18 15:57",title:"Linux中的组管理和权限管理，以及查看文件所有信息"},excerpt:"",headers:[{level:2,title:"权限的基本介绍",slug:"权限的基本介绍",children:[{level:3,title:"第一列分析",slug:"第一列分析",children:[]},{level:3,title:"第二列",slug:"第二列",children:[]},{level:3,title:"第三列",slug:"第三列",children:[]},{level:3,title:"第四列",slug:"第四列",children:[]},{level:3,title:"第五列",slug:"第五列",children:[]},{level:3,title:"第六列",slug:"第六列",children:[]},{level:3,title:"第七列",slug:"第七列",children:[]}]},{level:2,title:"改变用户所在的组",slug:"改变用户所在的组",children:[]},{level:2,title:"修改权限",slug:"修改权限",children:[{level:3,title:"方式一，+ 、-、= 变更权限",slug:"方式一-、-、-变更权限",children:[]},{level:3,title:"方式二，通过数字变更权限",slug:"方式二-通过数字变更权限",children:[]}]},{level:2,title:"修改文件所有者-chown",slug:"修改文件所有者-chown",children:[]},{level:2,title:"修改文件/目录所在组-chgrp",slug:"修改文件-目录所在组-chgrp",children:[]}],git:{updatedTime:1654857597e3,contributors:[{name:"qsyyke",email:"2291308094@qq.com",commits:1}]}}},87949:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var n=a(66252);const c=(0,n.uE)('<p>在 linux 中的每个用户必须属于一个组，不能独立于组外。在 linux 中每个文件有所有者、所在组、其它组的概念</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>在Linux中，每一个用户都对应一个组，如果常见用户的时候，没有指定组，那么该用户所在的组就是以该用户名作为组名创建的组，可以修改用户所在的组</li><li>每一个文件或者是文件夹也是对应着一个组，包括设备等，因为每一个设备(<code>cpu，驱动</code>)等等，在Linux中都是文件</li><li>如果某个用户创建了一个文件或者是文件夹，那么该文件或者文件夹的<code>所有者</code>便是该用户，可以修改，并且默认该<code>文件所在的组就是该所有者用户所在的组</code>，可以修改</li><li>对于一个文件来说，所有者和除所有者之外的用户对该文件及文件夹，都拥有一定的权限，可以修改他们的权限，并且他们所拥有的权限是不同的</li><li>对于文件来说，除了此文件或者文件夹所在的组外的其他组，都属于其他组</li></ol></div>',2),o=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211218161949023.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),r=(0,n.uE)('<h2 id="权限的基本介绍" tabindex="-1"><a class="header-anchor" href="#权限的基本介绍" aria-hidden="true">#</a> 权限的基本介绍</h2><p>我们可以使用命令</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> -al <span class="token punctuation">[</span>文件<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>输入此命令之后，我们可以看到以下信息</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drwxrwxr-x.  <span class="token number">2</span> jack jack <span class="token number">4096</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:30 jackdir\n-rw-rw-r--. <span class="token number">1</span> jack jack    <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:28 jack.txt\ndrwxr-xr-x. <span class="token number">4</span> jack jack <span class="token number">4096</span> <span class="token number">12</span>月 <span class="token number">16</span> <span class="token number">15</span>:20 .mozilla\ndrwxr-xr-x. <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:30 rootdir\n-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">0</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:30 root.txt\n-rw-------. <span class="token number">1</span> jack jack   <span class="token number">52</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:28 .Xauthority\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>首先我们看其中的一条</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drwxrw-r-x. <span class="token number">2</span> jack jack <span class="token number">4096</span> <span class="token number">12</span>月 <span class="token number">23</span> 02:30 jackdir\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>分析这一条文件信息所包含的信息，我们可以把上面分成几列，就变成下面这种</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drwxrw-r-x     <span class="token number">2</span>      jack    jack    <span class="token number">4096</span>   <span class="token number">12</span>月    <span class="token number">23</span>    02:30    jackdir\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>权限可以使用数字表示</p><p><code>r</code>=4</p><p><code>w</code>=2</p><p><code>x</code>=1</p><p>因此rwx=4+2+1=7</p></div>',10),l=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/file-permissions-rwx.jpg?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),p=(0,n.uE)('<h3 id="第一列分析" tabindex="-1"><a class="header-anchor" href="#第一列分析" aria-hidden="true">#</a> 第一列分析</h3><p><code>drwxrwxr-x</code>一共有10位，如果没有的字母的话，会使用<code>-</code>进行补齐</p><ul><li><p>第一位<code>d</code></p><p><strong><code>l</code></strong> <strong>是链接，相当于</strong> <strong>windows</strong> <strong>的快捷方式</strong></p><p><strong><code>d</code></strong> <strong>是目录，相当于</strong> <strong>windows</strong> <strong>的文件夹</strong></p><p><strong><code>c</code></strong> <strong>是字符设备文件，鼠标，键盘</strong></p><p><strong><code>b</code></strong> <strong>是块设备，比如硬盘</strong></p><p><code>-</code> 如果是<code>-</code>，那么就表示其只是一个文件<code>-rw-r--r--. 1 root root 0 12月 23 02:30 root.txt</code></p></li><li><p>第二位到第四位<code>rwx</code></p><p><code>表示文件所有者所拥有读，写，执行的权利</code></p><p><code>r</code> (read)可读，可查看</p><p><code>w</code> (write)可写，可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.</p><p><code>x</code> (execute)可执行</p></li><li><p>第五位到第七位<code>rw-</code></p><p><code>表示与文件拥有者同一组的用户的权限是读、写但不能执行</code></p><p><code>r</code> (read)可读，可查看</p><p><code>w</code> (write)可写，可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.</p><p><code>x</code> (execute)可执行，这里因为没有执行的权利，所以使用<code>-</code>代替</p></li><li><p>第八位到第十位<code>r-x</code></p><p><code>表示不与文件拥有者同组的其他用户的权限是读，不能写，可执行</code></p><p><code>r</code> (read)可读，可查看</p><p><code>w</code> (write)可写，可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.</p><p><code>x</code> (execute)可执行</p></li></ul><h3 id="第二列" tabindex="-1"><a class="header-anchor" href="#第二列" aria-hidden="true">#</a> 第二列</h3><p>drwxrw-r-x <code>2</code> jack jack 4096 12月 23 02:30 jackdir</p><p>这里的2表示，此<code>jackdir</code>目录内，文件夹及文件的总数，但是并不包括<code>jackdir/aa/aa.java</code>文件，只是统计<code>jackdir</code>目录内</p><h3 id="第三列" tabindex="-1"><a class="header-anchor" href="#第三列" aria-hidden="true">#</a> 第三列</h3><p>drwxrw-r-x 2 <code>jack</code> jack 4096 12月 23 02:30 jackdir</p><p>这里的<code>jack</code>表示的是该文件夹的所有者是谁，这里是用户</p><h3 id="第四列" tabindex="-1"><a class="header-anchor" href="#第四列" aria-hidden="true">#</a> 第四列</h3><p>drwxrw-r-x 2 jack <code>jack</code> 4096 12月 23 02:30 jackdir</p><p>表示该文件夹所在的组为<code>jack</code>，这里的<code>jack</code>表示组</p><h3 id="第五列" tabindex="-1"><a class="header-anchor" href="#第五列" aria-hidden="true">#</a> 第五列</h3><p>drwxrw-r-x 2 jack jack <code>4096</code> 12月 23 02:30 jackdir</p><p>表示该文件及文件夹的大小，以字节为单位</p><h3 id="第六列" tabindex="-1"><a class="header-anchor" href="#第六列" aria-hidden="true">#</a> 第六列</h3><p>drwxrw-r-x 2 jack jack 4096 <code>12月 23 02:30</code> jackdir</p><p>表示的是该文件及文件夹或者是其他的设备，最后的更新时间</p><h3 id="第七列" tabindex="-1"><a class="header-anchor" href="#第七列" aria-hidden="true">#</a> 第七列</h3><p>drwxrw-r-x 2 jack jack 4096 12月 23 02:30 <code>jackdir</code></p><p>所对应的名称，如文件夹名称，文件名称，设备名称</p><h2 id="改变用户所在的组" tabindex="-1"><a class="header-anchor" href="#改变用户所在的组" aria-hidden="true">#</a> 改变用户所在的组</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">groupadd</span> jackgr <span class="token comment">#新增jackgr组</span>\n<span class="token function">usermod</span> -g jackgr jack <span class="token comment"># 修改用户所在的组</span>\n<span class="token function">id</span> jack <span class="token comment">#查看用户</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="修改权限" tabindex="-1"><a class="header-anchor" href="#修改权限" aria-hidden="true">#</a> 修改权限</h2><p>我们通过<code>chomod</code>可以<code>修改文件</code>或者<code>文件夹</code>的权限</p>',25),d=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/rwx-standard-unix-permission-bits.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),i=(0,n.uE)('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>我们修改权限的时候，需要注意到:</p><p><code>u</code>:文件或者文件夹所有者</p><p><code>g</code>:与该文件或者文件夹所有者在同一个组的其他用户的权限</p><p><code>o</code>:表示没有与所有者在同一个组的其他用户</p><p><code>a</code>:所有人(u、g、o 的总和)</p></div><h3 id="方式一-、-、-变更权限" tabindex="-1"><a class="header-anchor" href="#方式一-、-、-变更权限" aria-hidden="true">#</a> 方式一，+ 、-、= 变更权限</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rx,o<span class="token operator">=</span>x 文件/目录名 <span class="token comment">#文件或者文件夹所有者读写执行，同组其他用户读，执行权利，其他人执行权利</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> o+w 文件/目录名 <span class="token comment">#给其他用户增加写的权利</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> a-x 文件/目录名 <span class="token comment">#为所有用户减去执行权利</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><p>给abc文件的所有者读写执行的权限，给所在组读执行权限，给其它组读执行权限。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rx,o<span class="token operator">=</span>rx abc \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>给 abc 文件的所有者除去执行的权限，增加组写的权限</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> u-x,g+w abc \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>给 abc 文件的所有用户添加读的权限</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> a+r abc\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul>',6),t=(0,n._)("details",{class:"custom-container details"},[(0,n._)("summary",null,"更改为可执行的权利，文件变色"),(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211218202228315.png?x-oss-process=style/pictureProcess1",data:"aurora"})]),(0,n._)("p",null,[(0,n.Uk)("我们可以看到，此"),(0,n._)("code",null,"abc"),(0,n.Uk)("的颜色发生了改变，变为绿色，这种就是当前用户拥有可执行的权利")])],-1),u=(0,n.uE)('<h3 id="方式二-通过数字变更权限" tabindex="-1"><a class="header-anchor" href="#方式二-通过数字变更权限" aria-hidden="true">#</a> 方式二，通过数字变更权限</h3><p>因为我们知道</p><p><code>r</code>=4</p><p><code>w</code>=2</p><p><code>x</code>=1</p><p>所以</p><p><code>7</code>: rwx</p><p><code>6</code>: rw</p><p><code>5</code>: rx</p><p><code>4</code>: r</p><p><code>3</code>: wx</p><p><code>2</code>: w</p><p><code>1</code>: x</p><p>所以，我们也可以使用数字变更权限</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rx,o<span class="token operator">=</span>x 文件目录名\n<span class="token comment">#相当于</span>\n<span class="token function">chmod</span> <span class="token number">751</span> 文件目录名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>/home/abc.txt 文件的权限修改成 rwxr-xr-x</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">755</span> /home/abc.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><h2 id="修改文件所有者-chown" tabindex="-1"><a class="header-anchor" href="#修改文件所有者-chown" aria-hidden="true">#</a> 修改文件所有者-chown</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chown</span> newowner 文件/目录  <span class="token comment">#改变所有者</span>\n<span class="token function">chown</span> newowner:newgroup 文件/目录 <span class="token comment">#改变所有者和所在组</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>常用选项</p><p><strong><code>-R</code></strong> 如果是目录 则使其下所有子文件或目录递归生效</p></blockquote><ul><li><p>请将 /home/abc.txt 文件的所有者修改成 tom</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chown</span> tom /home/abc.txt \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>请将 /home/test 目录下所有的文件和目录的所有者都修改成 tom</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chown</span> tom -R /home/test\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><h2 id="修改文件-目录所在组-chgrp" tabindex="-1"><a class="header-anchor" href="#修改文件-目录所在组-chgrp" aria-hidden="true">#</a> 修改文件/目录所在组-chgrp</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chgrp</span> newgroup 文件/目录\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><p>请将 /home/abc .txt 文件的所在组修改成 shaolin (少林)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">groupadd</span> shaolin \n<span class="token function">chgrp</span> shaolin /home/abc.txt \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>请将 /home/test 目录下所有的文件和目录的所在组都修改成 shaolin(少林)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chgrp</span> -R shaolin /home/test\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul>',23),b={},h=(0,a(83744).Z)(b,[["render",function(s,e){return(0,n.wg)(),(0,n.iD)(n.HY,null,[c,o,r,l,p,d,i,t,u],64)}]])}}]);