"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6585],{85341:(s,e,a)=>{a.r(e),a.d(e,{data:()=>n});const n={key:"v-6e14c132",path:"/linux/%E5%85%B3%E6%9C%BA%EF%BC%8C%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2%EF%BC%8C%E7%AE%A1%E7%90%86.html",title:"linux中的关机，用户管理命令",lang:"en-US",frontmatter:{date:"2021/12/16 20:25",title:"linux中的关机，用户管理命令"},excerpt:"",headers:[{level:2,title:"关机",slug:"关机",children:[]},{level:2,title:"用户注销，切换",slug:"用户注销-切换",children:[]},{level:2,title:"用户管理",slug:"用户管理",children:[{level:3,title:"添加用户",slug:"添加用户",children:[]},{level:3,title:"设置密码",slug:"设置密码",children:[]},{level:3,title:"删除用户",slug:"删除用户",children:[]}]},{level:2,title:"查询用户信息",slug:"查询用户信息",children:[]},{level:2,title:"查看当前用户",slug:"查看当前用户",children:[]},{level:2,title:"组",slug:"组",children:[{level:3,title:"添加组",slug:"添加组",children:[]},{level:3,title:"删除组",slug:"删除组",children:[]},{level:3,title:"修改用户组",slug:"修改用户组",children:[]}]},{level:2,title:"用户和组相关文件",slug:"用户和组相关文件",children:[{level:3,title:"/etc/passwd 文件",slug:"etc-passwd-文件",children:[]}]},{level:2,title:"/etc/shadow 文件",slug:"etc-shadow-文件",children:[]},{level:2,title:"/etc/group 文件",slug:"etc-group-文件",children:[]}],git:{updatedTime:1654857597e3,contributors:[{name:"qsyyke",email:"2291308094@qq.com",commits:1}]}}},94043:(s,e,a)=>{a.r(e),a.d(e,{default:()=>L});var n=a(66252);const l=(0,n.uE)('<h2 id="关机" tabindex="-1"><a class="header-anchor" href="#关机" aria-hidden="true">#</a> 关机</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">shutdown</span>  -h now <span class="token comment">#立该进行关机 </span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">shutdown</span> -h <span class="token number">1</span> <span class="token comment"># 一分钟以后立即关机</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">shutdown</span> –r now <span class="token comment"># 现在重新启动计算机</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">halt</span> <span class="token comment">#关机，作用和上面一样</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">reboot</span> <span class="token comment"># 立即重新启动</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sync</span> <span class="token comment"># 将内存中的数据，同步到磁盘</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>最好每次关机之前，都执行一下这个命令</p></blockquote><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync,但是还是最好执行一下，在关机之前</p></div><h2 id="用户注销-切换" tabindex="-1"><a class="header-anchor" href="#用户注销-切换" aria-hidden="true">#</a> 用户注销，切换</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">su</span> <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span> <span class="token comment"># 直接执行su是切换到root</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p><code>su qsyyke</code>，切换到qsyyke这个用户，当切换成功之后，对应的家目录空间也会更改<code>/home/qsyyke</code></p></blockquote><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>从低用户切换到高用户需要密码，从高用户切换到低用户，不需要，如从root切换到qsyyke，就不需要输入密码</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">logout</span> <span class="token comment"># 注销当前用户</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="用户管理" tabindex="-1"><a class="header-anchor" href="#用户管理" aria-hidden="true">#</a> 用户管理</h2>',15),c=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216203418206.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),i=(0,n.uE)('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>linux中只能有一个<code>root</code>用户，但是可以存在多个普通用户，这些普通用户可以通过<code>root</code>增加，修改，或者删除等</p></div><h3 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户" aria-hidden="true">#</a> 添加用户</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">useradd</span> 用户名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>当运行上面命令之后，会自动在<code>/home/用户名</code>创建对应的文件夹(<code>文件夹名使用用户名</code>)，如果没有指定的话</p></blockquote><p>同时也可以使用下面方式为某一个用户指定特定的目录，不一定在<code>/home</code>目录下</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">useradd</span> -d /home/aurora au <span class="token comment"># 增加用户au,此用户的家目录为/home/aurora</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>也可以如下</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">useradd</span> -d /files/aurora aurora\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>当使用<code>useradd aurora</code>之后，因为没有指定特定组，所以此用户对应的组就是此用户名aurora</p></div><h3 id="设置密码" tabindex="-1"><a class="header-anchor" href="#设置密码" aria-hidden="true">#</a> 设置密码</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">passwd</span> 用户名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>当使用<code>useradd aurora</code>命令之后，我们并没有为aurora设置密码，所以需要使用<code>passwd</code>设置密码</p><p>当我们没有开启安全权限的时候，密码可以设置的非常简单，也不会报错</p></blockquote>',12),r=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216204119255.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),o=(0,n._)("p",null,[(0,n.Uk)("如果直接运行"),(0,n._)("code",null,"passwd"),(0,n.Uk)("，回车，那么设置的就是root密码")],-1),t=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216204212130.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),d=(0,n.uE)('<h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户" aria-hidden="true">#</a> 删除用户</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">userdel</span> 用户名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>当使用这个<code>userdel aurora</code>之后，会删除aurora这个用户，但是并不会删除此用户的数据，也就是家目录</p></blockquote><ul><li><p>删除用户，并且删除家目录</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">userdel</span> -f 用户名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><h2 id="查询用户信息" tabindex="-1"><a class="header-anchor" href="#查询用户信息" aria-hidden="true">#</a> 查询用户信息</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">id</span> 用户名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',6),p=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216204516437.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),u=(0,n.uE)('<h2 id="查看当前用户" tabindex="-1"><a class="header-anchor" href="#查看当前用户" aria-hidden="true">#</a> 查看当前用户</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">who</span> an i\n\n<span class="token comment">#or</span>\nwhoani\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>对的，就是这个命令</p></blockquote>',3),h=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216204658248.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),g=(0,n._)("h2",{id:"组",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#组","aria-hidden":"true"},"#"),(0,n.Uk)(" 组")],-1),b=(0,n._)("p",null,"在Linux中，如果某几个用户他们的一些权限都是一样的，但是我们一个一个的去设置，会显得麻烦，所以我们可以将这几个用户添加到同一个组中，然后直接设置该组的权限就行",-1),m=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216205337327.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),v=(0,n.uE)('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>如果在使用<code>useradd 用户名</code>的时候，没有为这个用户指定特定的组，那么就会自动创建以该用户名为组名的组</p></div><h3 id="添加组" tabindex="-1"><a class="header-anchor" href="#添加组" aria-hidden="true">#</a> 添加组</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">groupadd</span> 组名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>使用<code>useradd 用户名</code>也会自动创建<code>用户名</code>这个组</p></div><h3 id="删除组" tabindex="-1"><a class="header-anchor" href="#删除组" aria-hidden="true">#</a> 删除组</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">groupdel</span> 组名\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="修改用户组" tabindex="-1"><a class="header-anchor" href="#修改用户组" aria-hidden="true">#</a> 修改用户组</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">useradd</span> -g 组名 用户名 <span class="token comment"># 添加用户的时候，就为该用户指定对应的组名</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">usermod</span> -g 组名 用户名 <span class="token comment"># 手动修改已经添加的用户的组名</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',9),x=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216210120377.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),k=(0,n._)("h2",{id:"用户和组相关文件",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#用户和组相关文件","aria-hidden":"true"},"#"),(0,n.Uk)(" 用户和组相关文件")],-1),y=(0,n._)("h3",{id:"etc-passwd-文件",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#etc-passwd-文件","aria-hidden":"true"},"#"),(0,n.Uk)(" /etc/passwd 文件")],-1),f=(0,n._)("p",null,"用户（user）的配置文件，记录用户的各种信息",-1),_=(0,n._)("p",null,"每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell",-1),z=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216210309352.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),w=(0,n._)("blockquote",null,[(0,n._)("p",null,[(0,n._)("code",null,"这里的登录shell是一个概念，国内一般使用的shell是bash,同时也还有csh等shell")])],-1),q=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216210440583.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),P=(0,n._)("div",{class:"custom-container tip"},[(0,n._)("p",{class:"custom-container-title"},"TIP"),(0,n._)("p",null,[(0,n.Uk)("上图就是一个shell，shell就相当于是一个解释器，对于Linux内核，当我们从一个地方发送一个"),(0,n._)("code",null,"cd"),(0,n.Uk)("命令之后，Linux并不知道这个指定，需要shell进行解释")])],-1),E=(0,n._)("h2",{id:"etc-shadow-文件",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#etc-shadow-文件","aria-hidden":"true"},"#"),(0,n.Uk)(" /etc/shadow 文件")],-1),S=(0,n._)("p",null,"口令的配置文件",-1),j=(0,n._)("p",null,"每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志",-1),U=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216210651114.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),C=(0,n._)("h2",{id:"etc-group-文件",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#etc-group-文件","aria-hidden":"true"},"#"),(0,n.Uk)(" /etc/group 文件")],-1),I=(0,n._)("p",null,"组(group)的配置文件，记录 Linux 包含的组的信息",-1),T=(0,n._)("p",null,"每行含义：组名:口令:组标识号:组内用户列表",-1),A=(0,n._)("p",null,[(0,n._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20211216210735758.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),B={},L=(0,a(83744).Z)(B,[["render",function(s,e){return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,c,i,r,o,t,d,p,u,h,g,b,m,v,x,k,y,f,_,z,w,q,P,E,S,j,U,C,I,T,A],64)}]])}}]);