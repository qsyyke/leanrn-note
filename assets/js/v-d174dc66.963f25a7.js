"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6254],{21189:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-d174dc66",path:"/vue/vue2/Webpack.html",title:"webpack",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"安装",slug:"安装",children:[]},{level:2,title:"commonjs",slug:"commonjs",children:[]},{level:2,title:"es6",slug:"es6",children:[]},{level:2,title:"el和template区别",slug:"el和template区别",children:[]},{level:2,title:"vue组件化开发",slug:"vue组件化开发",children:[]},{level:2,title:".vue文件封装处理",slug:"vue文件封装处理",children:[{level:3,title:"问题",slug:"问题",children:[]}]},{level:2,title:"添加版权的Plugin",slug:"添加版权的plugin",children:[]},{level:2,title:"打包html的plugin",slug:"打包html的plugin",children:[]},{level:2,title:"js压缩的Plugin",slug:"js压缩的plugin",children:[]},{level:2,title:"搭建本地服务器",slug:"搭建本地服务器",children:[]}],git:{updatedTime:1654857597e3,contributors:[{name:"qsyyke",email:"2291308094@qq.com",commits:1}]}}},89654:(n,s,a)=>{a.r(s),a.d(s,{default:()=>zn});var p=a(66252),e=a(3577);const t=(0,p._)("h1",{id:"webpack",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#webpack","aria-hidden":"true"},"#"),(0,p.Uk)(" webpack")],-1),l=(0,p._)("h2",{id:"安装",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,p.Uk)(" 安装")],-1),c=(0,p._)("p",null,"如果需要安装webpack，那么首先就需要安装node，node的安装，直接在官网下载应用程序进行安装，安装之后，还需要设置环境变量",-1),o=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719163612029.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),r=(0,p.uE)('<p>安装webpack之前，需要初始化npm</p><p>执行命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm init -y \nor \nnpm init\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>配置路径</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm config set cache  &quot;C:\\Program Files\\nodejs\\node_cache&quot;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>配置全局文件夹</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm config set prefix &quot;C:\\Program Files\\nodejs\\node_global&quot; \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>安装webpack一定要以管理员身份运行</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install webpack@3.6.0 -g\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>-g是全局安装</p><p>如果没有出现error，那么就表示安装成功，可以在node_global文件夹中，看到</p>',11),u=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719164206113.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),i=(0,p._)("p",null,[(0,p.Uk)("但是现在cmd执行"),(0,p._)("code",null,"webpack"),(0,p.Uk)("，会出现"),(0,p._)("code",null,"'webpack' 不是内部或外部命令的问题"),(0,p.Uk)("，这是因为安装webpack完成之后，我们还需要配置环境变量")],-1),b=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719164410126.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),k=(0,p._)("p",null,"和path环境变量",-1),m=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719164442935.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),d=(0,p._)("p",null,"那么现在就安装成功了，执行webpack -version就可以看到刚安装的版本",-1),g=(0,p._)("h1",{id:"简单使用",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#简单使用","aria-hidden":"true"},"#"),(0,p.Uk)(" 简单使用")],-1),v=(0,p._)("p",null,"在写项目的时候，我们都需要使用模块化的思想",-1),y=(0,p._)("p",null,"目录结构像下面这样",-1),x=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719172139023.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),h=(0,p.uE)('<p>其中，dist是我们打包后存放的位置，src是我们开发时候的文件，</p><h2 id="commonjs" tabindex="-1"><a class="header-anchor" href="#commonjs" aria-hidden="true">#</a> commonjs</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//math.js\nfunction sum(a,b) {\n    return a+b;\n}\n\nfunction dec(a,b) {\n    return a-b;\n}\nmodule.exports = {\n    sum,\n    dec\n}\n\n//main.js\nconst {sum,dec} = require(&#39;./math&#39;)\nconsole.log(sum(10,20))\nconsole.log(dec(10,20))\n\n//index.html\n&lt;script src=&quot;dist/bundle.js&quot;&gt;&lt;/script&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>在index.html中，我们只引入了bundle.js，如果没有打包前，这个文件是编译存在的</p><p>打包</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>E:\\vue\\webpack\\learnwebpack&gt;webpack ./src/main.js ./dist/bundle.js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>我们在打包的时候，需要先进入到此文件夹中</p>',7),j=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719172458847.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),q=(0,p._)("p",null,[(0,p._)("code",null,"./src/main.js"),(0,p.Uk)("是需要为哪些文件进行打包，这里只打包main.js，math.js不用，因为在main.js中，已经导入了math.js")],-1),w=(0,p._)("p",null,[(0,p._)("code",null,"./dist/bundle.js"),(0,p.Uk)("是将前面的打包成什么")],-1),_=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719172627880.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),f=(0,p.uE)('<p>成功，可以看到bundle.js文件，里面就有main.js,math.js等</p><h2 id="es6" tabindex="-1"><a class="header-anchor" href="#es6" aria-hidden="true">#</a> es6</h2><p>es6的使用也是一样</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//info.js</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;chuchen&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> coding <span class="token operator">=</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coding<span class="token punctuation">)</span>\n\n<span class="token comment">//main.js</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>coding<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./info&quot;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h1 id="配置webpack" tabindex="-1"><a class="header-anchor" href="#配置webpack" aria-hidden="true">#</a> 配置webpack</h1><p>如果每次进行打包的时候，都使用<code>webpack ./... ./...</code>，那么就会特别麻烦，我们可以进行配置，也就是在terminal中执行webpack，就进行打包</p><p>在当前文件夹下，新建一个<code>webpack.config.js</code>文件，名字需要使用这个，后期可以更改，内容为</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>\n<span class="token comment">//const path = require(&#39;path&#39;)是导入node中的path包</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.js&#39;</span><span class="token punctuation">,</span><span class="token comment">//entry是入口文件路径，也就是webpack xxx +++中XXX对应</span>\n    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//output是出口文件，也就是+++对应内容，但是出口路径不能使用相对路径，需要使用绝对路径，</span>\n        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//使用node中的方法，可以自动获取绝对路径，resolve是将dist和__dirname进行拼接，也就是./dist的绝对路径</span>\n        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token comment">//打包后的文件</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>那么这样配置之后，我们就可以使用webpack就可以代表以前的那一串了</p><p>idea设置管理员cmd</p><p><code>C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe</code></p><h1 id="全局和本地" tabindex="-1"><a class="header-anchor" href="#全局和本地" aria-hidden="true">#</a> 全局和本地</h1><p>在开发或者进行打包的时候，我们可能会使用不同版本的webpack对项目进行打包，那么这个时候，我们就需要在本地进行安装webpack所需要的版本</p><p>所有的在cmd或者是webstorm的terminal中使用<code>webpack ...</code>进行打包时，使用的都是全局webpack，但是如果在<code>package.json</code>中进行脚本定义之后，使用<code>npm run build</code>时，会优先在本地中寻找，如果没有找到，那么就会使用全局</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;scripts&quot;: {\n    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;,\n    &quot;build&quot;: &quot;webpack&quot;\n  }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>&quot;scripts&quot;</code>是所有脚本，里面的键如test，build，就是<code>npm run 键</code>时执行的，比如<code>npm run build</code>，那么执行的时候，就是简单的执行webpack</p><p>全局安装</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install webpack@3.6.0 -g\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>本地安装</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install webpack@3.6.0 --sabe-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>都需要在管理员状态下运行</p><p>当为当前项目配置本地webpack之后，就可以在<code>webpack.json</code>文件中，看到新出现的几行</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;devDependencies&quot;: {\n    &quot;webpack&quot;: &quot;^3.6.0&quot;\n  }\n这个是新出现的，Dev开发依赖，从这里可以看到，当前项目的webpack版本是3.6.0\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="使用css" tabindex="-1"><a class="header-anchor" href="#使用css" aria-hidden="true">#</a> 使用css</h1><p>写一个样式</p>',25),z=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719185607616.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),P=(0,p.uE)('<p>当我们写了这个样式之后，我们不应该在index.html中，引入这个css文件，应该是使用webpack进行统一打包</p><p>在main.js中，导入这个样式</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./css/style.css&quot;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>但是现在如果进行打包时，就会出现</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ERROR in ./src/css/style.css\nModule parse failed: E:\\vue\\webpack\\learnwebpack3\\src\\css\\style.css Unexpected token (1:5)\nYou may need an appropriate loader to handle this file type.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个是因为，webpack是不支持css的，如果需要使用，就需要使用webpack的插件loader进行处理</p><p>使用这个loader，进入webpack查看我们需要的loader，使用npm进行安装</p>',7),S={href:"http://ooszy.cco.vin/img/blog-note/https://www.webpackjs.com/loaders/css-loader/",target:"_blank",rel:"noopener noreferrer"},A=(0,p.Uk)("css-loader | webpack 中文网 (webpackjs.com)"),E=(0,p.uE)('<p>安装css的loader</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --save-dev css-loader\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span> <span class="token punctuation">]</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n也就是在webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js中加入module的配置\n<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.js&#39;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;css-loader&#39;</span> <span class="token punctuation">]</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>当使用这个进行打包之后，我们打开index.html，发现背景并没有发生改变，这个因为我们还需要style-loader的支持，<code>把 CSS 插入到 DOM 中</code>也是需要安装</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --save-dev style-loader@2.0.0\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>配置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                style-loader和css-loader的顺序不能颠倒，因为在webpack中，是从右边开始加载，不是从左边style-loader开始加载\n                use: [&quot;style-loader&quot;,&#39;css-loader&#39;]\n            }\n        ]\n    }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h1 id="使用less" tabindex="-1"><a class="header-anchor" href="#使用less" aria-hidden="true">#</a> 使用less</h1><p>我们也可以对less进行打包，需要<code>less-loader</code>，但是并不是有这个loader之后，就可以不要<code>css-loader</code>，两个都需要有，less-loader是将less文件编译成css文件，css-loader是加载 CSS 文件并解析 import 的 CSS 文件，最终返回 CSS 代码，并且还需要修改配置中的正则表达式</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module: {\n        rules: [\n            {\n                test: /\\.(less|css)$/,\n                loader: [\n                    &#39;style-loader&#39;,\n                    &#39;css-loader&#39;,\n                    &#39;less-loader&#39;,\n                ],\n            }\n        ]\n    }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>',10),U=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719220021503.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),C=(0,p.uE)('<h1 id="图片资源的加载" tabindex="-1"><a class="header-anchor" href="#图片资源的加载" aria-hidden="true">#</a> 图片资源的加载</h1><p>对于图片资源的加载，一共有两种情况，一种是，图片文件大小小于url-loader中limit的配置，单位是b</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{\n                test: /\\.(png|jpg|gif)$/,\n                use: [\n                    {\n                        loader: &#39;url-loader&#39;,\n                        options: {\n                            limit: 10000,\n                            name: &#39;img/[name].[hash:8].[ext]&#39;\n                        }\n                    }\n                ]\n            }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面的就是小于9.76kb的图片情况</p><p>当图片大小小于9.26kb时，在进行打包时，就会对图片进行<code>base64编码</code>，最终显示的图片地址为</p><p><code>url(data:image/jpeg;base64,/9j/4QzFRXhpZgAATU0AKgAAAAgACQESAAMAAAABAAEAAAEaAAUAAAA...</code>很长，不会再文件夹中，新生成一张图片</p><p>当图片大于limit值时，进行打包之后，默认会在dist目录下，生成一种新的图片，名字以<code>哈希值.后缀</code>进行显示，但是当在HTML中，查看该打包后的图片url是，会发现并不会显示出来，这是因为其地址为<code>图片.后缀</code>，但是我们HTML和该图片之间，还存在一层dist</p>',7),M=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719225501643.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),V=(0,p._)("p",null,[(0,p.Uk)("所以就会出错，不会显示出来，解决这个问题，我们在"),(0,p._)("code",null,"webpack.config.js"),(0,p.Uk)("中，加入该配置，就可以")],-1),W=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210719225544174.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),$=(0,p.uE)('<p>我们也可以更改新生成图片的命名，在<code>webpack.config.js</code>中更改</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{\n                test: /\\.(png|jpg|gif)$/,\n                use: [\n                    {\n                        loader: &#39;url-loader&#39;,\n                        options: {\n                            limit: 30000,\n                            name: &#39;img/[name].[hash:8].[ext]&#39;//[name]会自动取图片名字，[hash:8]哈希值 [ext]后缀名\n                        }\n                    }\n                ]\n            }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h1 id="es6语法处理" tabindex="-1"><a class="header-anchor" href="#es6语法处理" aria-hidden="true">#</a> es6语法处理</h1><p>如果你仔细阅读webpack打包的js文件，发现写的ES6语法并没有转成ES5，那么就意味着可能一些对ES6还不支持的浏览器没有办法很好的运行我们的代码。 在前面我们说过，如果希望将ES6的语法转成ES5，那么就需要使用babel。 而在webpack中，我们直接使用babel对应的loader就可以了。</p><p>安装loader</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --save-dev babel-loader@7 babel-core babel-preset-es2015\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>配置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{\n        test: /\\.js$/,\n        // exclude: 排除\n        // include: 包含\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: &#39;babel-loader&#39;,\n          options: {\n            presets: [&#39;es2015&#39;]\n          }\n        }\n      }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>打包之后，我们通过bundle.js可以看到，已经没有了const语法了，都是var进行变量命名</p><h1 id="使用vue" tabindex="-1"><a class="header-anchor" href="#使用vue" aria-hidden="true">#</a> 使用vue</h1><p>如果要使用vue，那么就需要安装vue，因为demon的时候，我们是引入vue.js文件，但是在开发的时候，我们都是使用npm进行包管理，而且我们是进行模块化开发，所以就必须使用webpack对vue进行管理</p>',11),H=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720121355157.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),T=(0,p.uE)('<p>使用</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//index.html</span>\n<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>\n    <span class="token punctuation">{</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>\n\n<span class="token comment">//main.js</span>\n<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>因为npm安装vue之后，会在node_modules文件夹中，添加vue的依赖，所以我们需要使用<code>import Vue from &quot;vue&quot;</code>导入，</p><p>编译完成之后，打开index.html，会出现报错</p>',4),D=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720121608515.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),F=(0,p._)("p",null,"这个是因为，在进行vue开发时候，我们有两种方式",-1),L=(0,p._)("blockquote",null,[(0,p._)("ul",null,[(0,p._)("li",null,[(0,p.Uk)("runtime-only 这种方式vue不认识我们的模板，如"),(0,p._)("code",null,'<div id="app"></div>'),(0,p.Uk)("，没有任何的template，所以就会出错")]),(0,p._)("li",null,"runtime-compiler 可以有complete，因为有compiler可以用于编译template")])],-1),B=(0,p._)("p",null,"所以我们修改webpack的配置，添加如下内容即可",-1),O=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720121928590.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),R=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720122715344.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),X=(0,p._)("h2",{id:"el和template区别",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#el和template区别","aria-hidden":"true"},"#"),(0,p.Uk)(" el和template区别")],-1),Y=(0,p._)("li",null,[(0,p._)("p",null,"正常运行之后，我们来考虑另外一个问题： 如果我们希望将data中的数据显示在界面中，就必须是修改index.html 如果我们后面自定义了组件，也必须修改index.html来使用组件 但是html模板在之后的开发中，我并不希望手动的来频繁修改，是否可以做到呢？")],-1),I=(0,p.uE)('<p>也就是说，如果在vue实例中，也就是root组件，同时存在el和template，那么在template中编写标签会替换vue实例在index.html中绑定的<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;&lt;h2&gt;{{message}}}&lt;/h2&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',2),Q=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720123953871.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),Z=(0,p.uE)('<p>template中的元素直接替换index.html中vue绑定的dom节点</p><ul><li>重新打包，运行程序，显示一样的结果和HTML代码结构</li><li>那么，el和template模板的关系是什么呢？ 在我们之前的学习中，我们知道el用于指定Vue要管理的DOM，可以帮助解析其中的指令、事件监听等等。 而如果Vue实例中同时指定了template，那么template模板的内容会替换掉挂载的对应el的模板。</li><li>这样做有什么好处呢？ 这样做之后我们就不需要在以后的开发中再次操作index.html，只需要在template中写入对应的标签即可 但是，书写template模块非常麻烦怎么办呢？</li><li>没有关系，稍后我们会将template模板中的内容进行抽离。 会分成三部分书写：template、script、style，结构变得非常清晰。</li></ul><h2 id="vue组件化开发" tabindex="-1"><a class="header-anchor" href="#vue组件化开发" aria-hidden="true">#</a> vue组件化开发</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//定义一个组件</span>\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;&lt;h2&gt;{{name}}&lt;/h2&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;qsyyke&quot;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n      &lt;div&gt;\n          &lt;h2&gt;{{message}}&lt;/h2&gt;\n          &lt;App&gt;&lt;/App&gt;\n      &lt;/div&gt;\n    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        App\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div>',4),K=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720124737047.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),G=(0,p.uE)('<p>除此以外，我们还可以，root根组件中，我们什么节点也不用写，我们可以将我们的其他组件通过组件树的形式加入到vue实例中的template中，因为template会直接替换<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>，这样就能够使我们的结构更加的清晰</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//定义一个组件</span>\n<span class="token keyword">const</span> second <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;\n    &lt;h2&gt;这是三级级组件&lt;/h2&gt;\n    &lt;p&gt;{{name}}&lt;/p&gt;\n    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;三级组件内容&quot;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;\n    &lt;h2&gt;这是二级组件&lt;/h2&gt;\n    &lt;p&gt;{{name}}&lt;/p&gt;\n    &lt;second/&gt;\n    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;二级组件内容&quot;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        second\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;App/&gt;&#39;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        App\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div>',2),J=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720125348495.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),N=(0,p._)("p",null,[(0,p._)("code",null,"这样，我们的new Vue({})实例中，就只是引入下一个组件，通过组件引入组件的方式，将程序组成一颗组件树")],-1),nn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720125532674.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),sn=(0,p.uE)('<p>除此意外，我们的main.js中的结构还是非常的混乱，我们可以将我们的template进行抽离</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//app.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    <span class="token comment">//定义一个组件</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;\n    &lt;h2&gt;这是三级级组件&lt;/h2&gt;\n    &lt;p&gt;{{name}}&lt;/p&gt;\n    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token punctuation">{</span>\n                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;三级组件内容&quot;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//main.js</span>\n<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./vue/app&#39;</span>\n\n<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;App/&gt;&#39;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        App\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>那么现在结构就比较好了</p><h2 id="vue文件封装处理" tabindex="-1"><a class="header-anchor" href="#vue文件封装处理" aria-hidden="true">#</a> .vue文件封装处理</h2>',4),an=(0,p._)("li",null,[(0,p._)("p",null,"但是一个组件以一个js对象的形式进行组织和使用的时候是非常不方便的 一方面编写template模块非常的麻烦")],-1),pn=(0,p._)("li",null,[(0,p._)("p",null,"另外一方面如果有样式的话，我们写在哪里比较合适呢？ 现在，我们以一种全新的方式来组织一个vue的组件")],-1),en=(0,p._)("li",null,[(0,p._)("p",null,"但是，这个时候这个文件可以被正确的加载吗？ 必然不可以，这种特殊的文件以及特殊的格式，必须有人帮助我们处理。 谁来处理呢？vue-loader以及vue-template-compiler。")],-1),tn=(0,p.uE)('<p>安装vue-loader和vue-template-compiler</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install vue-loader vue-template-compiler --save-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>这两个使用的版本号为</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;vue-loader&quot;: &quot;^13.0.0&quot;,\n&quot;vue-template-compiler&quot;: &quot;^2.5.21&quot;,\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以先将版本号修改为这两个，然后在使用<code>npm install</code>重新安装一下，就会安装配置文件中的对应的版本号</p><p>因为这个也是我们在编译时使用，所以直接安装到本地</p>',6),ln={href:"http://ooszy.cco.vin/img/blog-note/https://github.com/vuejs/vue-loader",target:"_blank",rel:"noopener noreferrer"},cn=(0,p.Uk)("vuejs/vue-loader: 📦 Webpack loader for Vue.js components (github.com)"),on=(0,p.uE)('<p>这个<code>xx.vue</code>文件的模板为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Hello world!&#39;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">\n<span class="token selector">.example</span> <span class="token punctuation">{</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>',2),rn=(0,p.uE)('<p>比如上面的<code>app.js</code>中的内容，我们就可以使用这个进行替换</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这是三级级组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>\n  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;三级组件内容&quot;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">.title</span> <span class="token punctuation">{</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>其中<code>&lt;template&gt;&lt;/template&gt;</code>是我们写template</p><p><code>&lt;script&gt;</code>是写脚本，如data，components，methods等等</p><p><code>&lt;style scoped&gt;</code>是写样式，我们可以为template中的标签添加样式</p></blockquote><p>安装完成之后，还需要修改<code>webpack.config.js</code>的配置</p>',4),un=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720130018338.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),bn=(0,p.uE)('<h3 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h3><p>如果这样在main.js中导入App.vue，那么编译通过之后，运行可能会没有变化，</p><p><code>import App from &#39;./vue/App&#39;</code></p><p>但是如果修改成<code>import App from &#39;./vue/App.vue&#39;</code>就会应用，这个需要配置一下</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>resolve: {\n        extensions: [&#39;.js&#39;, &#39;.css&#39;, &#39;.vue&#39;],\n        alias: {\n            &#39;vue$&#39;: &#39;vue/dist/vue.esm.js&#39;\n        }\n    }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin" aria-hidden="true">#</a> plugin</h1><p>webpack中，我们可以安装很多的插件</p><h2 id="添加版权的plugin" tabindex="-1"><a class="header-anchor" href="#添加版权的plugin" aria-hidden="true">#</a> 添加版权的Plugin</h2><p>该插件名字叫BannerPlugin，属于webpack自带的插件。</p><p>按照下面的方式来修改webpack.config.js的文件：</p>',10),kn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720132503199.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),mn=(0,p._)("p",null,"重新打包程序：查看bundle.js文件的头部，看到如下信息",-1),dn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720132528936.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),gn=(0,p.uE)('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>\n<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;最终版权归aaa所有&#39;</span><span class="token punctuation">)</span>\n        <span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="打包html的plugin" tabindex="-1"><a class="header-anchor" href="#打包html的plugin" aria-hidden="true">#</a> 打包html的plugin</h2><ul><li><p>目前，我们的index.html文件是存放在项目的根目录下的。</p><p>我们知道，在真实发布项目时，发布的是dist文件夹中的内容，但是dist文件夹中如果没有index.html文件，那么打包的js等文件也就没有意义了。 所以，我们需要将index.html文件打包到dist文件夹中，这个时候就可以使用HtmlWebpackPlugin插件</p></li><li><p>HtmlWebpackPlugin插件可以为我们做这些事情： 自动生成一个index.html文件(可以指定模板来生成) 将打包的js文件，自动通过script标签插入到body中</p></li></ul><p>安装HtmlWebpackPlugin插件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install html-webpack-plugin --save-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>安装的版本号为<code>&quot;html-webpack-plugin&quot;: &quot;^3.2.0&quot;</code></p><ul><li>使用插件，修改webpack.config.js文件中plugins部分的内容如下： 这里的template表示根据什么模板来生成index.html 另外，我们需要删除之前在output中添加的publicPath属性 否则插入的script标签中的src可能会有问题</li></ul><p>当打包完成之后，我们可以看到</p><p>原来的index.html</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>qsyyke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>新生成的</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>qsyyke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以发现，其会自动将script引入加上</p><p>但是这里有一个问题</p>',14),vn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720133831454.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),yn=(0,p.uE)('<p>这是因为我们之前了<code>publicPath</code>属性造成的，删除就可以解决，但是图片就会出问题</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>output: {\n        path: path.resolve(__dirname, &#39;dist&#39;),\n        filename: &#39;bundle.js&#39;,\n        publicPath: &#39;dist/&#39;\n    }\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="js压缩的plugin" tabindex="-1"><a class="header-anchor" href="#js压缩的plugin" aria-hidden="true">#</a> js压缩的Plugin</h2><ul><li>在项目发布之前，我们必然需要对js等文件进行压缩处理 这里，我们就对打包的js文件进行压缩 我们使用一个第三方的插件uglifyjs-webpack-plugin，并且版本号指定1.1.1，和CLI2保持一致</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install uglifyjs-webpack-plugin@1.1.1 --save-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>修改webpack.config.js文件，使用插件：</p>',6),xn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720134207607.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),hn=(0,p._)("p",null,"查看打包后的bunlde.js文件，是已经被压缩过了。",-1),jn=(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720134612623.png?x-oss-process=style/pictureProcess1",data:"aurora"})],-1),qn=(0,p._)("h2",{id:"搭建本地服务器",tabindex:"-1"},[(0,p._)("a",{class:"header-anchor",href:"#搭建本地服务器","aria-hidden":"true"},"#"),(0,p.Uk)(" 搭建本地服务器")],-1),wn=(0,p._)("ul",null,[(0,p._)("li",null,[(0,p._)("p",null,"webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，可以实现我们想要的让浏览器自动刷新显示我们修改后的结果")]),(0,p._)("li",null,[(0,p._)("p",null,"不过它是一个单独的模块，在webpack中使用之前需要先安装它"),(0,p._)("div",{class:"language-text ext-text line-numbers-mode"},[(0,p._)("pre",{class:"language-text"},[(0,p._)("code",null,"npm install --save-dev webpack-dev-server@2.9.1\n")]),(0,p._)("div",{class:"line-numbers"},[(0,p._)("span",{class:"line-number"},"1"),(0,p._)("br")])])]),(0,p._)("li",null,[(0,p._)("p",null,"devserver也是作为webpack中的一个选项，选项本身可以设置如下属性： contentBase：为哪一个文件夹提供本地服务，默认是根文件夹，我们这里要填写./dist port：端口号 inline：页面实时刷新 historyApiFallback：在SPA页面中，依赖HTML5的history模式")]),(0,p._)("li",null,[(0,p._)("p",null,"webpack.config.js文件配置修改如下"),(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720134717342.png?x-oss-process=style/pictureProcess1",data:"aurora"})])]),(0,p._)("li",null,[(0,p._)("p",null,"--open参数表示直接打开浏览器"),(0,p._)("p",null,[(0,p._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"",originSrc:"https://picture.xcye.xyz/image-20210720134733502.png?x-oss-process=style/pictureProcess1",data:"aurora"})])])],-1),_n=(0,p.uE)('<h1 id="配置文件分离" tabindex="-1"><a class="header-anchor" href="#配置文件分离" aria-hidden="true">#</a> 配置文件分离</h1><p>因为我们开发时和最终项目打包时，使用的配置可能不一样，比如代码丑化，在开发时，我们并不希望，但是最终打包时，我们希望对代码进行丑化，那么就需要对配置文件进行分离</p><p>在进行配置文件分离时，我们需要创建三个js文件配置文件</p><blockquote><p>base.config.js 开发和打包共同的配置</p><p>dev.config.js 开发特需要的配置</p><p>prod.config.js 打包特需要的配置</p></blockquote><p>在目前，开发主要就是代码就是搭建本地服务器，而打包主要就是代码丑化，所以我们目前就只需要将这两样分离就行</p><p>当分离之后，我们就需要修改<code>package.json</code>中的build和dev</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//base</span>\n<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.js&#39;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>\n        <span class="token comment">//publicPath: &#39;dist/&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(less|css)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>\n                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>\n                    <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n                    <span class="token punctuation">{</span>\n                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>\n                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n                            <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>\n                            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:8].[ext]&#39;</span>\n                        <span class="token punctuation">}</span>\n                    <span class="token punctuation">}</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token comment">// exclude: 排除</span>\n                <span class="token comment">// include: 包含</span>\n                <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n                    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>\n                    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n                        <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;es2015&#39;</span><span class="token punctuation">]</span>\n                    <span class="token punctuation">}</span>\n                <span class="token punctuation">}</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span>\n                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">]</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.css&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.vue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token string-property property">&#39;vue$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vue/dist/vue.esm.js&#39;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//dev</span>\n<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./base.config&#39;</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//prod</span>\n<span class="token keyword">const</span> UglifyjsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;uglifyjs-webpack-plugin&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./base.config&#39;</span><span class="token punctuation">)</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token keyword">new</span> <span class="token class-name">UglifyjsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//package.json\n&quot;scripts&quot;: {\n    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;,\n    &quot;build&quot;: &quot;webpack --config ./build/prod.config.js&quot;,\n    &quot;dev&quot;: &quot;webpack-dev-server --config ./build/dev.config.js&quot;\n  },\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>其中，<code>webpack-merge</code>我们需要进行安装，版本为<code>4.1.5</code>，<code>module.exports = webpackMerge(baseConfig, {})</code>的作用就是将baseConfig和后面的进行合并</p>',11),fn={},zn=(0,a(83744).Z)(fn,[["render",function(n,s){const a=(0,p.up)("ExternalLinkIcon");return(0,p.wg)(),(0,p.iD)(p.HY,null,[t,l,c,o,r,u,i,b,k,m,d,g,v,y,x,h,j,q,w,_,f,z,P,(0,p._)("p",null,[(0,p._)("a",S,[A,(0,p.Wm)(a)])]),E,U,C,M,V,W,$,H,T,D,F,L,B,O,R,X,(0,p._)("ul",null,[Y,(0,p._)("li",null,[(0,p._)("p",null,"定义template属性： 在前面的Vue实例中，我们定义了el属性，用于和index.html中的#app进行绑定，让Vue实例之后可以管理它其中的内容 这里，我们可以将div元素中的"+(0,e.zw)(n.message)+"内容删掉，只保留一个基本的id为div的元素 但是如果我依然希望在其中显示"+(0,e.zw)(n.message)+"的内容，应该怎么处理呢？ 我们可以再定义一个template属性，代码如下：",1)])]),I,Q,Z,K,G,J,N,nn,sn,(0,p._)("ul",null,[an,pn,en,(0,p._)("li",null,[tn,(0,p._)("p",null,[(0,p._)("a",ln,[cn,(0,p.Wm)(a)])]),on])]),rn,un,bn,kn,mn,dn,gn,vn,yn,xn,hn,jn,qn,wn,_n],64)}]])}}]);